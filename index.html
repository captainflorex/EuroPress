<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>EuroPress â€” Culture & Entertainment</title>
    <meta name="description" content="Reviews, interviews, and features on culture and entertainment." />
    <meta name="theme-color" content="#0f172a" />
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" data-ad-client="ca-pub-REPLACE_WITH_YOUR_ID"></script>
    <style>
        :root{
            --bg: linear-gradient(180deg,#071028 0%, #071225 60%);
            --card:#0b1220;
            --muted:#98a0b3;
            --accent:#ff6b6b;
            --glass: rgba(255,255,255,0.03);
            --text: #e6eef8; 
            --modal-bg: #071227;
            --modal-text: #cfe8ff; 
            --btn-bg: transparent; 
            --btn-border: rgba(255,255,255,0.06); 
            --btn-text: var(--text); 
            --btn-hover: rgba(255,255,255,0.03); 
            --max-width:1100px; 
            font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            color-scheme: dark;
        }
        *{box-sizing:border-box}
        html,body{height:100%; margin:0; background:var(--bg); color:var(--text); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale}
        a{color:var(--accent); text-decoration:none}
        header{backdrop-filter:saturate(1.1) blur(6px); background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent); border-bottom:1px solid rgba(255,255,255,0.03)}
        .container{max-width:var(--max-width); margin:0 auto; padding:20px}
        .top{display:flex; gap:12px; align-items:center; justify-content:space-between}
        .brand{display:flex; gap:12px; align-items:center}
        .logo{
            width:48px;height:48px;border-radius:8px;display:inline-grid;place-items:center;
            background:linear-gradient(135deg,var(--accent), #7c3aed); box-shadow:0 6px 18px rgba(255,107,107,0.08); font-weight:700;
        }
        .title{font-size:1.15rem; font-weight:700; letter-spacing:0.2px}
        nav{display:flex; gap:14px; align-items:center}
        .search{display:flex; gap:8px; align-items:center; background:var(--glass); padding:6px; border-radius:10px}
        .search input{background:transparent;border:0; outline:none;color:inherit; width:220px}
        main{padding:28px 20px}

        /* MISE EN PAGE DE CARTE (BasÃ©e sur le style Editorial) */
        .article-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 28px;
            max-width: 1200px;
            margin: 0 auto; 
        }

        .card {
            background: var(--card);
            border: 1px solid rgba(255,255,255,0.03);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            transition: transform 0.2s ease;
            position: relative;
            padding-bottom: 20px; /* Espace pour le contenu aprÃ¨s l'image */
        }
        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
        }
        .card-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-bottom: 1px solid rgba(255,255,255,0.03);
        }
        .card-content {
            padding: 16px;
        }
        .card-title {
            font-size: 1.25rem;
            font-weight: 700;
            line-height: 1.3;
            margin-top: 0;
            margin-bottom: 8px;
            color: var(--text);
        }
        .card-excerpt {
            color: var(--muted);
            font-size: 0.95rem;
            line-height: 1.5;
            margin-bottom: 12px;
        }
        .card-meta {
            font-size: 0.85rem;
            color: var(--muted);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* STYLES DES Ã‰LÃ‰MENTS SPÃ‰CIAUX */
        .kicker{
            background:rgba(255,255,255,0.03); 
            padding:6px 10px; 
            border-radius:999px; 
            font-size:0.8rem; 
            color:var(--accent); 
            font-weight:600;
        }
        .editorial-kicker {
            background: #7c3aed; 
            color: var(--text);
            padding: 6px 10px;
            border-radius: 999px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        .read-btn{
            display:inline-block;
            margin-top:12px;
            padding:8px 12px;
            background:var(--btn-bg);
            border:1px solid var(--btn-border);
            border-radius:8px;
            color:var(--btn-text);
            cursor:pointer;
            font-size:inherit;
            font-family:inherit;
        }
        .read-btn:hover{
            background:var(--btn-hover);
        }

        /* Reader poll card */
        .engage-card {
            background: var(--card);
            border: 1px solid rgba(255,255,255,0.04);
            border-radius: 14px;
            padding: 20px;
            margin-top: 28px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.18);
        }
        .engage-card h2 {
            margin: 0 0 4px 0;
            font-size: 1.25rem;
        }
        .poll-options {
            display: grid;
            gap: 10px;
            margin: 14px 0;
        }
        .poll-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            border: 1px solid var(--btn-border);
            border-radius: 10px;
            background: rgba(255,255,255,0.02);
            cursor: pointer;
        }
        .poll-option input {
            accent-color: var(--accent);
        }
        .poll-actions {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
        }
        .poll-results {
            margin-top: 12px;
            display: grid;
            gap: 10px;
        }
        .poll-result-row {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 10px;
            align-items: center;
        }
        .poll-bar {
            background: rgba(255,255,255,0.06);
            border-radius: 999px;
            height: 10px;
            overflow: hidden;
        }
        .poll-bar span {
            display: block;
            height: 100%;
            background: linear-gradient(90deg, var(--accent), #7c3aed);
            width: 0;
            transition: width 0.3s ease;
        }
        .poll-percent {
            font-variant-numeric: tabular-nums;
        }
        .poll-gif {
            width:48px;
            height:48px;
            border-radius:10px;
            object-fit:cover;
            background:var(--glass);
        }
        .fun-card {
            background: var(--card);
            border: 1px solid rgba(255,255,255,0.04);
            border-radius: 14px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.14);
        }
        .fun-card h3 {
            margin: 0 0 8px 0;
            font-size: 1.1rem;
            display: flex;
            gap: 8px;
            align-items: center;
        }
        .fun-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: rgba(255,255,255,0.05);
            padding: 6px 10px;
            border-radius: 10px;
            font-size: 0.9rem;
        }
        .fun-list {
            margin: 10px 0 0 0;
            padding-left: 18px;
            color: var(--muted);
            line-height: 1.5;
        }

        /* Styles pour article full-screen view */
        .article-detail {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        .article-detail h1 {
            font-size: 2rem;
            margin-bottom: 16px;
            line-height: 1.3;
        }
        .article-detail .article-meta {
            display: flex;
            gap: 12px;
            align-items: center;
            margin-bottom: 28px;
            flex-wrap: wrap;
            color: var(--muted);
            font-size: 0.95rem;
        }
        .article-detail img {
            width: 100%;
            height: auto;
            border-radius: 12px;
            margin: 28px 0;
            max-height: 500px;
            object-fit: cover;
        }
        .article-detail > p, .article-detail > h3 {
            line-height: 1.7;
            margin-bottom: 16px;
        }
        .back-to-articles {
            display: inline-block;
            margin-bottom: 20px;
            padding: 8px 12px;
            background: var(--btn-bg);
            border: 1px solid var(--btn-border);
            border-radius: 8px;
            color: var(--btn-text);
            cursor: pointer;
            text-decoration: none;
        }
        .back-to-articles:hover {
            background: var(--btn-hover);
        }

        footer{margin-top:28px;padding:18px 0;color:var(--muted); border-top:1px solid rgba(255,255,255,0.02)}
        .tag{display:inline-block; padding:6px 9px; background:rgba(255,255,255,0.02); border-radius:999px; color:var(--muted); font-size:0.85rem; margin:4px}
        .tag.active{ background:rgba(255,255,255,0.06); color:var(--text); border:1px solid rgba(255,255,255,0.06) }
        .muted{color:var(--muted)}

        /* responsive */
        @media (max-width:700px){
            .article-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container top">
            <a href="./index.html" class="brand" style="text-decoration:none; color:inherit;">
                <div class="logo" aria-hidden="true">EP</div>
                <div>
                    <div class="title">EuroPress</div>
                    <div class="muted" style="font-size:0.85rem">Culture & Entertainment</div>
                </div>
            </a>

            <nav aria-label="Main navigation">
                <a href="./index.html" class="tag active" style="margin:0">Home</a>
                <a href="./topics.html" class="tag" style="margin:0">Topics</a>
                <a href="./trending.html" class="tag" style="margin:0">Trending</a>
                <a href="./editorials.html" class="tag" style="margin:0">Editorials</a>
                <a href="./staff.html" class="tag" style="margin:0">Staff</a>
                <a href="./credits.html" class="tag" style="margin:0">Credits</a>
                <a href="./privacy.html" class="tag" style="margin:0">Privacy</a>
                <div class="search" role="search">
                    <span aria-hidden="true">ðŸŽ¬</span>
                    <input id="q" type="search" placeholder="Search reviews, interviews, shows..." aria-label="Search articles" />
                    <button id="themeToggle" title="Toggle theme" aria-pressed="false">ðŸŒ“</button>
                </div>
            </nav>
        </div>
    </header>

    <main>
        <div class="container" style="padding:0">
            <!-- Vue liste d'articles -->
            <div id="articlesList">
                <h1 style="margin-top:0">Latest Features & Reviews</h1>
                <p class="muted">Explore our complete collection of reviews, interviews, and editorials.</p>
                
                <section class="article-grid" id="mainArticles">
                    <div style="grid-column: 1 / -1; text-align: center; color: var(--muted); padding: 50px;">Loading articles...</div>
                </section>

                <section class="engage-card" aria-labelledby="poll-title">
                    <div style="display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap">
                        <div>
                            <h2 id="poll-title">Quick poll</h2>
                            <p class="muted" style="margin:4px 0 0 0">Tell us what you want more of on EuroPress.</p>
                        </div>
                        <span class="kicker" aria-hidden="true">1-click vote</span>
                        <img class="poll-gif" src="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExZXh3cHM0Z3I1dDA5MjV1c3ZhbnZzaDR2aGsyMHB0M2MxcDQzdzB4NCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/KVZcNQzDpbl1teu97Y/giphy.gif" alt="Animated decorative icon" aria-hidden="true" loading="lazy" />
                    </div>

                    <form id="pollForm" class="poll-options">
                        <label class="poll-option">
                            <input type="radio" name="poll" value="longreads" />
                            <span>In-depth reviews</span>
                        </label>
                        <label class="poll-option">
                            <input type="radio" name="poll" value="interviews" />
                            <span>Interviews with creators</span>
                        </label>
                        <label class="poll-option">
                            <input type="radio" name="poll" value="quicktakes" />
                            <span>Short takes & recaps</span>
                        </label>
                        <label class="poll-option">
                            <input type="radio" name="poll" value="industry" />
                            <span>Industry analysis</span>
                        </label>
                        <div class="poll-actions">
                            <button class="read-btn" type="submit">Submit vote</button>
                            <span id="pollMessage" class="muted" aria-live="polite"></span>
                        </div>
                    </form>

                    <div id="pollResults" class="poll-results" aria-live="polite"></div>
                </section>

                <section class="fun-card" aria-labelledby="fun-title">
                    <div style="display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap">
                        <h3 id="fun-title">Did you know? ðŸ¤”</h3>
                        <span class="fun-badge" aria-hidden="true">Top 5 quick hits</span>
                    </div>
                    <ol class="fun-list">
                        <li>The study-sleep connection: your brain strengthens what you learned while you sleep. Studying right before bed helps long-term recall.</li>
                        <li>The world's oldest school: the University of Al-Quaraouiyine (Morocco) was founded in 859 ADâ€”over 1,100 years old.</li>
                        <li>Pencil power: one wooden pencil can draw a ~35-mile (56 km) line or write around 45,000 words.</li>
                    </ol>
                </section>

                <section class="fun-card" aria-labelledby="community-title">
                    <div style="display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap">
                        <h3 id="community-title">School & Community</h3>
                        <span class="fun-badge" aria-hidden="true">This week</span>
                    </div>
                    <div class="fun-list" style="list-style:none; padding-left:0; color:var(--muted);">
                        <p><strong>Local events:</strong> Film club screening â€” Friday 6pm, Room B12. Open mic night â€” Saturday 7pm, Cafeteria.</p>
                        <p><strong>Sports schedule:</strong> Volleyball vs. Riverton â€” Wed 5pm (Gym). Soccer at Eastfield â€” Sat 3pm (Away).</p>
                        <p><strong>Club spotlight:</strong> Robotics team prototyping a line-following rover; open build session Thursday lunch, Lab 204.</p>
                        <p><strong>Interview highlight:</strong> Ms. Martin (Literature) on adapting novels for stage; excerpt coming in next issue.</p>
                        <p><strong>Profile:</strong> Student of the Month â€” Sara K., for leading the charity drive that hit 150% of the goal.</p>
                    </div>
                </section>

                <section class="fun-card" aria-labelledby="resources-title">
                    <h3 id="resources-title">Helpful Resources ðŸ“š</h3>
                    <div class="fun-list" style="list-style:none; padding-left:0; color:var(--muted);">
                        <p><strong>Study tips:</strong> Pomodoro Technique (25 min focus + 5 min break), active recall flashcards, and group study nights every Tuesday.</p>
                        <p><strong>Tech tutorials:</strong> <a href="https://youtu.be/jZjJ54ehgrM?si=an4kYri66wbr-EVB">Quick video guides</a> for Google Workspace.</p>
                        <p><strong>School info:</strong> <a href="file:///C:/Users/flori/Downloads/Livret%20Etudiants.pdf">Handbook</a> â€¢ <a href="file:///C:/Users/flori/Downloads/Dates%20de%20rentr%C3%A9e%20et%20de%20vacances.pdf">Academic calendar</a> â€¢ <a href="https://helpdesk.omneseducation.com/">IT support</a></p>
                        <p><strong>Mental health & self-care:</strong> Support hotline & more. Check out our <a href="https://campus-boostcamp.omneseducation.com/myStudentLife/theWellbeingProgramme">wellbeing programme</a> for more resources.</p>
                    </div>
                </section>

                <section class="fun-card" aria-labelledby="creative-title">
                    <h3 id="creative-title">Creative & Feature Content âœ¨</h3>
                    <div class="fun-list" style="list-style:none; padding-left:0; color:var(--muted);">
                        <p><strong>Poetry corner:</strong> Student submissions & staff picks. Monthly spotlights for featured work.</p>
                        <p><strong>Short stories:</strong> Flash fiction and longer narratives exploring school life, imagination, and beyond.</p>
                        <p><strong>Student artwork gallery:</strong> Digital art, sketches, and installations by student creators. Curated monthly.</p>
                        <p><strong>Photo essays:</strong> Visual storytelling on campus life, events, and community moments.</p>
                        <p><strong>Fashion & style:</strong> Student style tips, thrift finds, and lookbook features from peers.</p>
                        <p><strong>Reviews:</strong> Books, movies, games, and music critiques from student perspectives.</p>
                        <p style="margin-top:12px; font-weight:600;">Submit all creative work to <a href="mailto:europress.space@protonmail.com">europress.space@protonmail.com</a></p>
                    </div>
                </section>
            </div>
        </div>

        <footer class="container">
            <div style="display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap">
                <div class="muted">Â© EuroPress 2025 â€” Culture & Entertainment</div>
                <div style="display:flex; gap:12px;">
                    <a href="./index.html">Home</a>
                    <a href="./topics.html">Topics</a>
                    <a href="./trending.html">Trending</a>
                    <a href="./editorials.html">Editorials</a>
                    <a href="./staff.html">Staff</a>
                    <a href="./credits.html">Credits</a>
                    <a href="./privacy.html">Privacy</a>
                </div>
            </div>
        </footer>
    </main>

    <script>
        // Fallback et remplacement proactif des placeholders distants
        (() => {
            const FALLBACK = './images/OIP.jpg';
            const normalize = (img) => {
                if (!img) return;
                if (img.src && img.src.includes('via.placeholder.com')) {
                    img.src = FALLBACK;
                }
                img.onerror = () => {
                    img.onerror = null;
                    img.src = FALLBACK;
                };
            };

            const origSetAttribute = HTMLImageElement.prototype.setAttribute;
            HTMLImageElement.prototype.setAttribute = function(name, value){
                if (name === 'src' && typeof value === 'string' && value.includes('via.placeholder.com')) {
                    value = FALLBACK;
                }
                return origSetAttribute.call(this, name, value);
            };

            document.addEventListener('DOMContentLoaded', () => {
                document.querySelectorAll('img').forEach(normalize);
            });
        })();

        // Reset persistent click counts once after data cleanup
        (() => {
            const KEY = 'ep_click_counts';
            const RESET_FLAG = 'ep_click_counts_reset_v1';
            if (!localStorage.getItem(RESET_FLAG)) {
                localStorage.removeItem(KEY);
                localStorage.setItem(RESET_FLAG, '1');
            }
        })();

        // DONNÃ‰ES UNIFIÃ‰ES
        const articlesData = [
            { id: 1, title: "Rian Johnson's Star Wars Trilogy: A Broken Promise That Still Leaves a Bitter Taste", author: "Eliot GROSEIL", date: "Nov 24, 2025", topic: "Editorial", contentType: "editorial", img: "./images/GettyImages-2217355437.png", excerpt: "Johnson's planned Star Wars trilogy is effectively dead, leaving a bitter aftertaste after years of silence.", body: "<p>It is now official: Rian Johnson's Star Wars trilogy is effectively dead. The news is not exactly shocking after years of silence, but it still hits hard. For those who held onto the promise made in 2017, right after the explosive release of The Last Jedi, this feels like another letdown in a long line of abandoned Star Wars projects.</p><h3>A Missed Opportunity</h3><p>Johnson had everything lined up for success. With The Last Jedi, he dared to shake up the formula. Yes, he split the fanbase, but he also injected creativity into a saga that often played things too safe. A brand-new trilogy, completely removed from the Skywalker storyline, felt like a breath of fresh air waiting to happen: new worlds, new characters, new ideas, a chance to break free from the weight of legacy.</p><p>But reality had other plans. Between the initial announcement and today, Knives Out happened. Then its sequel. Then Netflix. Then a third Benoit Blanc mystery. Johnson himself admits he went into another universe. And honestly, who can blame him? Knives Out is fantastic. Still, the situation leaves a bitter aftertaste. Lucasfilm let a bold, imaginative filmmaker slip awayâ€”and for what?</p><h3>What Now?</h3><p>Meanwhile, the Star Wars machine keeps expanding, but the overall strategy is starting to look more like a patchwork than a coherent vision. Simon Kinberg is now taking over with a new trilogy (Episodes X, XI, and XII), while standalone films keep stacking up: The Mandalorian & Grogu (May 2026), Starfighter with Ryan Gosling (May 2027), and James Mangold's Dawn of the Jedi, which seems stuck in development limbo.</p><p>The issue? None of these projects appear to carry the kind of singular, daring perspective Johnson could have brought. Instead, it feels like a race to announce the next big name, the next shiny ideaâ€”handing out pieces of the galaxy to whichever director is trending, without any real sense of direction.</p><h3>Hope Remains (Somehow)</h3><p>So yes, it is disappointing. Disappointing that Lucasfilm could not keep Johnson onboard. Disappointing that the backlash to The Last Jedi may have played a role. Disappointing that once again, Star Wars seems to be choosing the safest path instead of the boldest one.</p><p>But hope is stubborn. And in this galaxy, it always finds a way to linger.</p>" },
            { id: 2, title: "Red Dead Redemption 2: Commercial Success and Development Conditions", author: "Louis PAICHEUR", date: "Dec 24, 2025", topic: "Gaming", contentType: "article", img: "./images/Image1.jpg", excerpt: "Released in October 2018, Red Dead Redemption 2 achieved worldwide success. But what were the conditions behind its eight-year development?", body: "<p>Released in October 2018, Red Dead Redemption 2, developed by Rockstar Games, achieved worldwide commercial success. The title is the result of a development cycle that lasted around eight years. This development required significant human and financial resources. It also revived questions about the studio's internal work organization.</p><h3>A Western Set in the Late 19th Century</h3><p>The game takes place in the late 19th century, in a declining American Far West. The player controls Arthur Morgan, an outlaw and member of a criminal gang. The authorities pursue the group after several robberies, and the story follows their escape through a changing America.</p><h3>A Large-Scale Development</h3><p>The development spanned roughly eight years. Its cost, according to several specialized media outlets, is estimated between 370 and 540 million dollars. The production reportedly involved several thousand people, with extensive work on performance and dialogue: around 1,200 actors are said to have recorded nearly 500,000 lines.</p><h3>Work Rhythms Reported by Developers</h3><p>Developers described intense work rhythms during certain phases. Some employees say they worked up to 60 hours per week. Others mention even more demanding periods. A former animator at the studio stated that he exceeded 70 hours per week for several months.</p><h3>Rockstar's Position and Internal Data Reported in the Press</h3><p>Rockstar Games claims an average workweek of 45 hours. Internal surveys, cited by the press, indicate that around 20% of employees reported exceeding this threshold during the final stages. The actors also worked over several years, under confidentiality agreements. Roger Clark, who portrays Arthur Morgan, mentioned the length of the recording sessions and the secrecy surrounding the development.</p><h3>A Record Launch and Sustained Sales</h3><p>At release, the game generated 725 million dollars in revenue during its first weekend. Today, more than 79 million copies have been sold worldwide.</p>" },
            { id: 3, title: "Netflix in Exclusive Negotiations to Acquire Warner Bros Discovery", author: "Eliot GROSEIL", date: "Dec 24, 2025", topic: ["TV","Celebrity"], contentType: "article", img: "./images/AA1GOa7a.png", excerpt: "A colossal deal that would reshape the global entertainment landscape. Netflix reportedly offers $28 per share for Warner Bros Discovery.", body: "<p>Netflix has reached a decisive milestone in its consolidation strategy. The streaming giant has entered into exclusive negotiations to acquire Warner Bros Discovery, according to reports released Friday by American media outlets. This transaction, valued at $28 per share, would represent one of the most significant merger and acquisition operations in the entertainment industry since Disney's acquisition of Fox in 2019.</p><h3>A Record Offer on the Table</h3><p>Netflix has reportedly submitted the highest bid to take over Warner Bros Discovery. According to the Wall Street Journal, both groups are preparing to officially announce this information imminently. Warner Bros Discovery's market capitalization currently stands at around $60 billion according to Bloomberg, which first revealed the deal. However, WBD's board of directors is reportedly seeking a figure closer to $75 billion, excluding debt.</p><p>Other contenders were also in the race, notably Paramount Skydance and telecommunications operator Comcast, but Netflix's offer appears to be the winning bid.</p><h3>A Streaming Empire Under Construction</h3><p>This acquisition would allow Netflix to get its hands on an exceptional catalog. Warner Bros Discovery indeed possesses an impressive library of cult classic films and renowned television productions. The deal would also include HBO Max, the prestigious streaming service that ranks among the most respected platforms in the sector.</p><p>By merging these two entities, Netflix would significantly consolidate its position in the streaming market, a sector undergoing major restructuring. The fierce battle between platforms and the gradual decline of traditional television are pushing major American players to undertake significant strategic reorganizations. To compete with giants like Netflix and Disney, competitors are seeking to unite in order to strengthen their streaming offerings and improve their profitability.</p><h3>Political and Artistic Concerns</h3><p>This deal is not receiving unanimous support. According to the New York Post, White House officials recently expressed their concerns regarding this possible acquisition. They fear it would give Netflix an excessive dominant position in the American content market, raising competition issues.</p><p>Jeremy Goldman, an analyst at research firm Emarketer, emphasizes the strategic importance of this transaction: the winner will shape how Hollywood's biggest films are distributed and how advertisers adapt to it.</p><p>On the creative side, reservations are also evident. Director James Cameron, famous for blockbusters like Avatar and Titanic, declared his opposition to this acquisition during an interview on The Town podcast released last Friday. He criticizes Netflix executives for prioritizing their platform over movie theaters, thereby threatening the traditional cinematic experience.</p><p>If negotiations are successful, this merger would mark a historic turning point in the entertainment industry and redefine the rules of the streaming game for years to come.</p>" },
            { id: 4, title: "Pokemon Legends ZA Review: What Do People Think About the Game?", author: "Alexandre DESCHAMPS", date: "Oct 16, 2025", topic: "Gaming", contentType: "article", img: "./images/tÃ©lÃ©charger.png", excerpt: "The latest Game Freak title finally lands, but fans and critics are split on its new direction.", body: "<header><h1>Pokemon legend ZA review : What do people think about the game ?</h1><p><strong>By:</strong> DESCHAMPS Alexandre</p><p><strong>Location:</strong> Paris, France</p></header><main><section><p style=\"text-align:center;\"><img src=\"./images/Image2.png\" alt=\"Pokemon Legends ZA official logo\" style=\"max-width:30%;height:auto;\"></p><p style=\"text-align:center;\"><em>[Pokemon Legends ZAâ„¢ official logo]</em></p><p>The latest game from Game Freak studio, <strong>Pokemon Legends ZAâ„¢</strong>, was released on October 16th, 2025. This game has been long-awaited by fans, and critical opinions are divided. Let's analyze the main feelings of the players.</p></section><section><h2>Context and Story</h2><p>Pokemon Legends ZAâ„¢ was announced on February 27th, 2024, in a trailer during a Pokemon Presents event.</p><p>The story takes place five years after the events of Pokemon X and Y. It begins when the protagonist arrives in <strong>Luminose City</strong> and joins the MZ team to win the ZA tournament, a battle event organized by Quasartico Inc., an urban development organization.</p><p style=\"text-align:center;\"><img src=\"./images/Image3.png\" alt=\"Luminose city\" style=\"max-width:30%;height:auto;\"></p><p style=\"text-align:center;\"><em>[Luminose city official artwork for Pokemon Legend ZAâ„¢]</em></p><p>We will not go further into the main story to avoid any spoilers.</p></section><section><h2>Gameplay Mechanics and Innovations</h2><p>The game caused immediate reactions, particularly with the return of <strong>Mega Evolutions</strong>, a phenomenon that makes Pokemon stronger for a limited time and hasn't been seen since <em>Pokemon Ultra Sun and Ultra Moon</em> 8 years ago.</p><p>Furthermore, the battle mechanics have been completely overhauled, moving from turn-by-turn combat to a <strong>real-time battle system</strong>, representing a major turning point for strategy and competition.</p></section><section><h2>Points of Contention: Starters and Graphics</h2><p>However, many were disappointed by Game Freak's choice of starters. While fans expected Pokemon representing French culture (like Snivy, Oshawott, or Torchic), the chosen ones were <strong>Chikorita, Totodile, and Tepig</strong>, a choice the community did not understand.</p><p style=\"text-align:center;\"><img src=\"./images/te.png\" alt=\"Chikorita\" style=\"max-width:25%;height:auto;display:inline-block;margin:5px;\"> <img src=\"./images/totodile.png\" alt=\"Totodile\" style=\"max-width:25%;height:auto;display:inline-block;margin:5px;\"> <img src=\"./images/AA1GOa7.png\" alt=\"Tepig\" style=\"max-width:25%;height:auto;display:inline-block;margin:5px;\"></p><p style=\"text-align:center;\"><em>[Chikorita, Totodile and Tepig, Pokemon Legends ZA â„¢ starters]</em></p><p>Fans' anger increased during the gameplay release due to technical design choices. Critics pointed out poor graphic optimization, specifically a single file for the entire city that was too heavy and consumed most resources, while details like wall and window textures were neglected.</p></section><section><h2>Reception and Performance</h2><p>On the other hand, some fans praised the improvements in <strong>level design</strong>, with various accessible zones, total open-world freedom, and exploration mechanics for catching wild Pokemon. It is noted that bugs and degraded graphics mainly affected the Switch 1 version, as the game is optimized for <strong>Switch 2</strong>.</p><p>Scores reflect this division:</p><ul><li>4/10 by James Stephanie Sterling (British freelance journalist).</li><li>5/5 by Video Games Chronicle.</li><li>The general score is usually between <strong>8/10 and 9/10</strong>.</li></ul><p>Regarding sales, the game was a success with <strong>5.8 million copies</strong> sold during the first week, including 1.48 million in Japan on the first day.</p></section><section><h2>Conclusion</h2><p>According to R. Lecocq, a long-time player, even if Pokemon Legends ZAâ„¢ presents many flaws like bad graphics and optimization, the game represents a complete overhaul of the original formula and a test for future generations.</p></section></main><footer><hr><p><strong>Sources and links used:</strong></p><ul><li>Pokepedia.fr</li><li>Wikipedia - PokÃ©mon Legends: Z-A</li><li>Nintendo.com - Switch 2 Edition</li><li>Official Pokemon YouTube Channel</li><li>Interview with Raphael Lecocq by Alexandre Deschamps</li></ul></footer>" },
            { id: 5, title: "LEC 2026: A Bold New Chapter for European League of Legends Esports", author: "Pierre ZANI", date: "Jan 04, 2026", topic: "Esports", contentType: "article", img: "./images/AA1Hwhsl.webp", excerpt: "Riot remplace le Winter Split par LEC Versus, un invitational 12 equipes mixant LEC et ERL pour lancer 2026 avec un spot international en jeu.", body: "<p>Riot Games bouleverse le debut de saison: le Winter Split disparait au profit de LEC Versus, un tournoi invitational a 12 equipes qui melange les 10 partenaires LEC et deux invites venues des ligues regionales EMEA.</p><h3>LEC Versus en bref</h3><p>Onze semaines de round-robin en BO1 ou chaque equipe joue toutes les autres, puis un top 8 en double elimination combine BO3 et BO5 pour sacrer le champion.</p><p>Le vainqueur empoche un sÃ©same direct pour First Stand, le premier tournoi international de l'annee, injectant des enjeux forts des la semaine 1.</p><h3>Spring et Summer restent familiers</h3><p>Les splits Spring et Summer conservent 10 equipes, un simple round-robin en BO3 et des playoffs en BO5 pour distribuer les billets du MSI et du Worlds.</p><h3>Pourquoi ce changement</h3><p>Objectifs affiches: hausser les enjeux des l'ouverture, rapprocher LEC et ERL en offrant une vitrine aux challengers (ex. Los Ratones, Karmine Corp Blue) et dynamiser l'audience avec plus d'imprevu.</p><h3>Reactions</h3><p>Les fans saluent l'arrivee de nouvelles rivalites et d'histoires d'outsiders, tandis que certains commentateurs redoutent la cascade de BO1. Quoi qu'il en soit, l'attente autour de cette saison 2026 n'a jamais ete aussi forte.</p>" },
            { id: 6, title: "Gaijin Entertainment Launches Line of Contact Winter Update for War Thunder", author: "Floriant CHAFFRAY", date: "Dec 16, 2025", topic: "Gaming", contentType: "article", img: "./images/1500x500_twi_bg_line_of_contact_mig_25pd_logo_eng_56461baf7aaa21afb57e963647eb4b84.jpg", excerpt: "On December 16, 2025, Gaijin Entertainment dropped the latest major update for War Thunder. The Line of Contact update brings a closed beta for an infantry game mode, advanced combat vehicles, and lots of gameplay changes.", body: "<p>On December 16, 2025, Gaijin Entertainment dropped the latest major update for War Thunder. The Line of Contact update brings a closed beta for an infantry game mode, advanced combat vehicles, and lots of gameplay changes for air, ground, and naval battles.</p><h3>Infantry Combat in Closed Beta</h3><p>For the first time, War Thunder players can fight as infantry soldiers. The closed beta lets players work room to room, have sniper battles, and push through city streets. Beta sign-ups are on the game's website, but Gaijin hasn't said when the mode will fully release.</p><h3>New Vehicles</h3><p>The update adds over 30 new vehicles from different countries and roles.</p><ul><li><strong>Air:</strong> Germany, Britain, and Italy get three Eurofighter Typhoon versions with AESA radar and eight AIM-120 AMRAAM missiles each. The U.S. gets the F/A-18E Super Hornet with twelve active radar missiles, and Sweden adds the JAS39E Gripen with Brimstone. Russia gets the Su-30SM2 with the IRBIS-E radar system. Also, the FR-1 Fireball (with a hybrid propeller-jet engine) and the DB-LK bomber (with twin cockpits and gun turrets) came in.</li><li><strong>Ground:</strong> Britain's Ajax and America's M10 Booker join as fast-moving light vehicles. The Ajax has a 40mm cannon, while the Booker packs a 105mm. Looks like both can do recon. Russia's BMPT Terminator has two 30mm autocannons and anti-tank missiles on each side of its turret.</li><li><strong>Air Defense:</strong> Japan gets the Type 03 ChÅ«-SAM with AESA radar and vertical launch containers. Sweden and the U.S. get the Norwegian/American NASAMS 3 with active radar missiles, and China gets the HQ11 with phased-array radar and eight missiles.</li><li><strong>Sea:</strong> The Soviet battlecruiser Stalingrad, HMS Prince of Wales, and USS South Dakota came in.</li></ul><h3>Visual and Gameplay Update</h3><p>The winter version of the Poland map got a visual makeover. Buildings, plants, and other details are updated, but the layout is the same.</p><p>Naval battles have a Severe Damage system. If a ship loses half its crew, you get half the credit you would for sinking the ship.</p><p>Ground lineups at 9.3 battle rating and above can bring an extra vehicle. Arcade battles get one more slot, while realistic battles add a tank and an anti-aircraft vehicle.</p><p>The hangar got a refresh. Weapons are in front of aircraft and next to ground vehicles, with info about each one. Premium and event vehicles have new animations like opening cockpits, starting engines, spinning propellers, and turning turrets and guns.</p><p>The Line of Contact update is out now on PC and consoles. The full list of changes is on War Thunder's website.</p>" },
            { id: 7, title: "War Thunder's Infantry Gamble: Great Idea or Identity Crisis?", author: "Floriant CHAFFRAY", date: "Jan 04, 2026", topic: "Editorial", contentType: "editorial", img: "./images/maxresdefault.jpg", excerpt: "War Thunder ajoute l'infanterie et des avions AESA: ambition ou perte d'identite?", body: "<p>I'll be real â€“ when I first heard War Thunder was getting infantry combat, I wasn't thrilled. I was confused. After a decade of fine-tuning combined arms warfare with tanks, planes, and ships, Gaijin Entertainment now wants us to trade our joystick for a rifle. Iâ€™m not sure they've thought this through.</p><h3>The Infantry Question: Was This Really Needed?</h3><p>War Thunderâ€™s claim to fame was being a vehicle combat game for thinkers. You didn't just fly or drive; you mastered systems, learned about ballistics, and understood armor. The game has always been about machines, not infantry.</p><p>So why add infantry now? Gaijin says it gives a new view of the fight. The thing is, War Thunder already had its own view. A special one. Adding infantry puts it up against Battlefield, Hell Let Loose, and Squad. These games have spent years perfecting infantry combat.</p><p>The closed beta might change my mind. Maybe building raids and city fights will mix well with tanks and air support. Right now, it feels less like something new and more like an identity problem. War Thunder might lose what makes it special by chasing trends instead of building on its strengths.</p><h3>The AESA Arms Race: Too Much, Too Soon?</h3><p>Let's talk about the new toys. Typhoons with AESA radar. F/A-18E Super Hornets with radar missiles. The Su-30SM2 with IRBIS-E systems. Sounds good, right? It pushes War Thunder into tech that will destroy casual players.</p><p>These are big changes. AESA radar changes air combat by making it harder to detect and jam. Radar missiles give a fire-and-forget that casual players won't see coming. The skill needed just went up, and the starting skill needed is super high now.</p><p>The truth is, the higher the tech, the less fun the game is for anyone not ready to study radar like a college class. War Thunder has always been hard to learn. Now it's a wall.</p><h3>The Grind Gets Worse</h3><p>That brings up the grind. Over 30 new vehicles sounds great until you remember they're mostly top-tier. For free players struggling to research Rank VII, this says the end is further away.</p><p>Ground lineups at 9.3 get an extra vehicle slot. That's good if you're already there. What about those in mid-tiers with basic vehicles and high repair costs? This doesn't help them. It helps those already at the top stay there.</p><p>Gaijin added the BMPT Terminator as both a tech tree vehicle and a paid pack. The message is clear: pay to skip the grind, or accept that getting these vehicles will take months or years. The gap between paying and free players just got wider.</p><h3>The Call: Ambition Without a Plan</h3><p>I want to like this update. The visual changes to Poland look good. The hangar animations are a good addition. The Severe Damage mechanic for naval is a good fix. But these small things don't hide the big problem: War Thunder doesn't know what it wants to be.</p><p>A vehicle combat simulator? Then why add infantry?</p><p>An easy-to-play military game? Then why go so hard into hyper-modern combat that depends on radar?</p><p>A fair free-to-play game? Then why make the top-tier grind even longer?</p><p>Should players be excited? If you're already into top-tier content and have the time or money for these new vehicles, then yes. The new jets and SAM systems will be fun. But if you're a casual player, or loved War Thunder's original idea of combined arms vehicle warfare, this update might make you feel left behind.</p><p>Line of Contact isn't a failure. It might be the update where War Thunder forgets what made it special.</p>" },
            { id: 8, title: "From Art to Product: The Musical Drift", author: "Louis PAICHEUR", date: "Jan 15, 2026", topic: "Editorial", contentType: "editorial", img: "./images/tÃ©lÃ©charger.webp", excerpt: "Streaming-era incentives are turning songs into products optimized for skips, playlists, and metrics.", body: "<p>Streaming rewired the economics of recorded music. Songs are now engineered to survive skip timers, feed playlists, and trick algorithms into thinking a track is 'sticky'. The shift from album to feed turned music from a singular work into an endless stream of content.</p><h3>Streaming Platforms Reward Quantity</h3><p>Because platforms pay per play, the incentive is volume. Short intros, immediate hooks, and 2-minute runtimes are now standard. Artists front-load choruses to dodge the 30-second skip cliff and push micro-releases to stay visible.</p><h3>Algorithms Replace A&R</h3><p>Editorial teams once curated catalogs; today, recommender systems decide what lives in your queue. Success depends on metadata, release cadence, and willingness to chase playlist slots, not on narrative arcs or creative risk.</p><h3>From Albums to Content Drops</h3><p>Albums become expandable products: deluxe editions, bonus remixes, and cross-genre features meant to refresh the same tracks in the algorithm. Music is packaged for retention metrics, not for cohesive storytelling.</p><h3>What Artists Lose</h3><p>When music is treated like a product SKU, budgets shrink, risks vanish, and mid-tier artists feel pressure to self-produce rapidly. Craft gives way to speed, and audiences learn to consume music as background noise.</p><h3>How to Recenter the Art</h3><p>There is a path back: slow releases, transparent payouts, and spaces that reward listening over scrolling. Direct-to-fan models, ticketed livestreams, and vinyl revivals hint that audiences still crave intention. The industry can follow the metricsâ€”or rebuild value around the art itself.</p>" },
            { id: 9, title: "La La Land: When Dreams Dance With Reality", author: "RaphaÃ«l LEE MILERON", date: "Jan 17, 2026", topic: "Editorial", contentType: "editorial", img: "./images/tÃ©lÃ©char.webp", excerpt: "In a cinematic landscape dominated by franchises and sequels, La La Land arrived in 2016 like a bold reminder of what cinema can still dare to be.", body: "<p>In a cinematic landscape dominated by franchises and sequels, La La Land arrived in 2016 like a bold reminder of what cinema can still dare to be. Directed by Damien Chazelle, the film reintroduced the musical genre to a new generation, proving that singing and dancing could still feel modern, intimate, and deeply emotional.</p><p>Set in Los Angeles, the city of broken promises and endless ambition, La La Land follows two dreamers trying to make their place in an unforgiving industry. Mia wants to be an actress. Sebastian dreams of saving jazz from fading into obscurity. Their relationship is built on shared passion, but slowly tested by success, failure, and compromise. The film does not romanticize ambitionâ€”it questions it.</p><p>Visually, La La Land is a spectacle. Its bright colors, long takes, and carefully choreographed scenes transform ordinary moments into cinematic poetry. The music, composed by Justin Hurwitz, is both nostalgic and contemporary, paying tribute to classic Hollywood while speaking to modern audiences. Each song feels like an emotional pause, allowing the characters to express what words alone cannot.</p><p>The film's critical success, crowned by six Academy Awards and an Oscar for Emma Stone, confirmed its impact. But what truly defines La La Land is its ending. Refusing the easy comfort of a perfect resolution, the film embraces bittersweet realism. It suggests that love and ambition can inspire each other, yet not always survive together.</p><p>La La Land is not just a musicalâ€”it is a reflection on choice. It reminds us that following our dreams often means accepting loss, and that success does not always look like happiness. In doing so, the film leaves its audience dancing between hope and regret, long after the final note fades.</p>" }
        ];
       
            // GESTION DU CLIC ET LOCAL STORAGE (POUR TRENDING)
        const CLICK_KEY = 'ep_click_counts';
        let clickCounts = JSON.parse(localStorage.getItem(CLICK_KEY) || '{}');

        function saveCounts() {
            localStorage.setItem(CLICK_KEY, JSON.stringify(clickCounts));
        }

        function incrementCount(id){
            clickCounts[id] = (clickCounts[id] || 0) + 1;
            saveCounts();
        }

        // RENDU DES ARTICLES FILTRÃ‰S
        const mainArticlesEl = document.getElementById('mainArticles');

        function renderArticles(){
            if(!mainArticlesEl) return;
            
            // FILTRAGE: afficher tous les contenus (articles + Ã©ditoriaux)
            const filteredArticles = articlesData.filter(a => a.contentType === 'article' || a.contentType === 'editorial');
            
            if (filteredArticles.length === 0) {
                mainArticlesEl.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; color: var(--muted); padding: 50px;">No articles found in this category.</div>';
                return;
            }

            mainArticlesEl.innerHTML = filteredArticles.map(a => {
                const topicDisplay = Array.isArray(a.topic) ? a.topic.join(', ') : a.topic;
                
                // DÃ©termine le style de 'kicker'
                const kickerHtml = a.contentType === 'editorial' ? 
                    `<span class="editorial-kicker">Ã‰DITORIAL</span>` : 
                    `<span class="kicker">${topicDisplay}</span>`;

                return `
                    <article class="card">
                        <img src="${a.img}" alt="${a.title}" class="card-image" loading="lazy" onerror="this.onerror=null;this.src='https://via.placeholder.com/600x338?text=Image+unavailable';" />
                        <div class="card-content">
                            <h3 class="card-title">${a.title}</h3>
                            <div class="muted" style="font-size:0.9rem; margin-bottom:6px;">${a.author}</div>
                            <p class="card-excerpt">${a.excerpt}</p>
                            <div class="card-meta">
                                <div>
                                    ${kickerHtml}
                                    <small class="time" style="margin-left: 8px;">${a.date}</small>
                                </div>
                                <button class="read-btn" type="button" data-id="${a.id}" onclick="displayArticle(${a.id});">Read more â†’</button>
                            </div>
                        </div>
                    </article>
                `;
            }).join('');

            // Attacher les listeners (dÃ©lÃ©gation + fallback direct)
            const handleClick = (target) => {
                const articleId = parseInt(target.dataset.id, 10);
                if (isNaN(articleId)) return;
                incrementCount(articleId);
                displayArticle(articleId);
            };

            // DÃ©lÃ©gation sur le conteneur (robuste)
            mainArticlesEl.addEventListener('click', (e) => {
                const btn = e.target.closest('.read-btn[data-id]');
                if (btn) {
                    e.preventDefault();
                    handleClick(btn);
                }
            });

            // Et liaison directe pour compatibilitÃ© (au cas oÃ¹)
            document.querySelectorAll('.read-btn[data-id]').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    handleClick(btn);
                });
            });
        }

        // --- Fonction pour afficher un article en plein Ã©cran ---
        function displayArticle(id) {
            const article = articlesData.find(x => x.id == id);
            if (!article) return;

            const articlesList = document.getElementById('articlesList');
            const detailView = document.getElementById('articleDetailView');
            const contentDiv = document.getElementById('articleContent');

            let topicDisplay = Array.isArray(article.topic) ? article.topic.join(', ') : article.topic;
            if (article.contentType === 'editorial') topicDisplay = 'Ã‰DITORIAL';

            // Construire le HTML de l'article
            const html = `
                <h1>${article.title}</h1>
                <div class="article-meta">
                    <span>${article.author}</span>
                    <span>â€¢</span>
                    <span>${article.date}</span>
                    <span>â€¢</span>
                    <span class="kicker" style="margin: 0;">${topicDisplay}</span>
                </div>
                <img src="${article.img}" alt="${article.title}" onerror="this.onerror=null;this.src='https://via.placeholder.com/900x300?text=Image+unavailable';" />
                ${article.body}
            `;

            contentDiv.innerHTML = html;
            articlesList.style.display = 'none';
            detailView.style.display = 'block';
            window.scrollTo(0, 0);

            // Mettre Ã  jour l'URL
            history.pushState(null, '', `index.html?articleId=${id}`);
        }

        // --- Fonction pour revenir Ã  la liste ---
        function goBackToList() {
            document.getElementById('articlesList').style.display = 'block';
            document.getElementById('articleDetailView').style.display = 'none';
            history.pushState(null, '', 'index.html');
            window.scrollTo(0, 0);
        }

        // --- Simple reader poll ---
        const POLL_VOTE_KEY = 'ep_poll_vote_v1';
        const POLL_COUNTS_KEY = 'ep_poll_counts_v1';
        const pollOptions = [
            { value: 'longreads', label: 'In-depth reviews' },
            { value: 'interviews', label: 'Interviews with creators' },
            { value: 'quicktakes', label: 'Short takes & recaps' },
            { value: 'industry', label: 'Industry analysis' }
        ];

        function getPollCounts() {
            const stored = localStorage.getItem(POLL_COUNTS_KEY);
            let counts = stored ? JSON.parse(stored) : null;
            if (!counts) {
                counts = { longreads: 12, interviews: 9, quicktakes: 7, industry: 10 };
            }
            // Ensure all options exist
            pollOptions.forEach(opt => {
                if (typeof counts[opt.value] !== 'number') counts[opt.value] = 0;
            });
            return counts;
        }

        function savePollCounts(counts) {
            localStorage.setItem(POLL_COUNTS_KEY, JSON.stringify(counts));
        }

        function renderPollResults(counts, votedValue) {
            const container = document.getElementById('pollResults');
            if (!container) return;
            const actualTotal = pollOptions.reduce((sum, opt) => sum + (counts[opt.value] || 0), 0);
            const total = actualTotal || 1;

            container.innerHTML = pollOptions.map(opt => {
                const count = counts[opt.value] || 0;
                const percent = Math.round((count / total) * 100);
                const highlight = votedValue === opt.value ? 'font-weight:700;' : '';
                return `
                    <div class="poll-result-row" data-option="${opt.value}">
                        <div class="poll-label" style="${highlight}">${opt.label}</div>
                        <div class="poll-bar"><span style="width:${percent}%;"></span></div>
                        <div class="poll-percent">${percent}%</div>
                    </div>
                `;
            }).join('') + `<div class="muted" style="font-size:0.85rem;">${actualTotal} votes counted.</div>`;
        }

        function lockPoll(form, selected) {
            const inputs = form.querySelectorAll('input[name="poll"]');
            inputs.forEach(input => {
                input.disabled = true;
                if (selected && input.value === selected) {
                    input.checked = true;
                }
            });
            const btn = form.querySelector('button[type="submit"]');
            if (btn) {
                btn.disabled = true;
                btn.textContent = 'Vote recorded';
            }
        }

        function initPoll() {
            const form = document.getElementById('pollForm');
            if (!form) return;
            const messageEl = document.getElementById('pollMessage');
            let counts = getPollCounts();
            const savedVote = localStorage.getItem(POLL_VOTE_KEY);

            if (savedVote) {
                lockPoll(form, savedVote);
                if (messageEl) messageEl.textContent = 'Thanks for voting â€” results live below.';
            } else if (messageEl) {
                messageEl.textContent = 'Choose an option and hit submit.';
            }

            renderPollResults(counts, savedVote);

            form.addEventListener('submit', (e) => {
                e.preventDefault();
                const checked = form.querySelector('input[name="poll"]:checked');
                if (!checked) {
                    if (messageEl) messageEl.textContent = 'Please select an option before submitting.';
                    return;
                }

                const choice = checked.value;
                counts[choice] = (counts[choice] || 0) + 1;
                savePollCounts(counts);
                localStorage.setItem(POLL_VOTE_KEY, choice);
                renderPollResults(counts, choice);
                lockPoll(form, choice);
                if (messageEl) messageEl.textContent = 'Thanks for your vote!';
            }, { once: true });
        }

        // --- VÃ©rifier l'URL pour afficher un article Ã  la charge ---
        function checkURLForArticle() {
            const params = new URLSearchParams(window.location.search);
            const articleId = params.get('articleId');
            if (articleId) {
                const idNum = parseInt(articleId, 10);
                if (!isNaN(idNum)) {
                    displayArticle(idNum);
                }
            }
        }


        // Initialiser au chargement
        document.addEventListener('DOMContentLoaded', () => {
            renderArticles();
            checkURLForArticle();
            initPoll();
            
            const backBtn = document.querySelector('.back-to-articles');
            if (backBtn) {
                backBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    goBackToList();
                });
            }
        });

        // --- FonctionnalitÃ© ThÃ¨me (persistante, icÃ´ne stable) ---
        const THEME_KEY = 'ep_theme_mode';
        const themeToggle = document.getElementById('themeToggle');
        const storedTheme = localStorage.getItem(THEME_KEY);
        let light = storedTheme ? storedTheme === 'light' : false; // default dark
        if (!storedTheme) localStorage.setItem(THEME_KEY, 'dark');

        function applyTheme(on){
            if(on){
                document.documentElement.style.setProperty('--bg','linear-gradient(180deg,#f6fbff 0%, #eef6ff 60%)');
                document.documentElement.style.setProperty('--card','#ffffff');
                document.documentElement.style.setProperty('--muted','#556677');
                document.documentElement.style.setProperty('--accent','#ff6b6b');
                document.documentElement.style.setProperty('--glass','rgba(0,0,0,0.03)');
                document.documentElement.style.setProperty('--text','#071225');
                document.documentElement.style.setProperty('--modal-bg','#ffffff');
                document.documentElement.style.setProperty('--modal-text','#071225');
                document.documentElement.style.setProperty('--btn-bg','transparent');
                document.documentElement.style.setProperty('--btn-border','rgba(7,18,37,0.06)');
                document.documentElement.style.setProperty('--btn-text','#071225');
                document.documentElement.style.setProperty('--btn-hover','rgba(7,18,37,0.04)');
                if(themeToggle){
                    themeToggle.style.backgroundColor = '#ffffff';
                    themeToggle.style.color = '#071225';
                    themeToggle.style.border = '1px solid #e5e7eb';
                    themeToggle.setAttribute('aria-pressed','true');
                }
            } else {
                document.documentElement.style.removeProperty('--bg');
                document.documentElement.style.removeProperty('--card');
                document.documentElement.style.removeProperty('--muted');
                document.documentElement.style.removeProperty('--accent');
                document.documentElement.style.removeProperty('--glass');
                document.documentElement.style.removeProperty('--text');
                document.documentElement.style.removeProperty('--modal-bg');
                document.documentElement.style.removeProperty('--modal-text');
                document.documentElement.style.removeProperty('--btn-bg');
                document.documentElement.style.removeProperty('--btn-border');
                document.documentElement.style.removeProperty('--btn-text');
                document.documentElement.style.removeProperty('--btn-hover');
                if(themeToggle){
                    themeToggle.style.backgroundColor = '#0b1220';
                    themeToggle.style.color = '#e6eef8';
                    themeToggle.style.border = '1px solid rgba(255,255,255,0.2)';
                    themeToggle.setAttribute('aria-pressed','false');
                }
            }
        }

        applyTheme(light);

        themeToggle.addEventListener('click', ()=>{
            light = !light;
            localStorage.setItem(THEME_KEY, light ? 'light' : 'dark');
            applyTheme(light);
        });

        // --- SystÃ¨me de recherche avec tolÃ©rance aux fautes ---
        
        // Fonction pour calculer la distance de Levenshtein (nombre de diffÃ©rences entre deux mots)
        function levenshteinDistance(str1, str2) {
            const len1 = str1.length;
            const len2 = str2.length;
            const matrix = [];
            
            if (len1 === 0) return len2;
            if (len2 === 0) return len1;
            
            // Initialisation de la matrice
            for (let i = 0; i <= len1; i++) {
                matrix[i] = [i];
            }
            for (let j = 0; j <= len2; j++) {
                matrix[0][j] = j;
            }
            
            // Calcul des distances
            for (let i = 1; i <= len1; i++) {
                for (let j = 1; j <= len2; j++) {
                    const cost = str1[i - 1] === str2[j - 1] ? 0 : 1;
                    matrix[i][j] = Math.min(
                        matrix[i - 1][j] + 1,      // Suppression
                        matrix[i][j - 1] + 1,      // Insertion
                        matrix[i - 1][j - 1] + cost // Substitution
                    );
                }
            }
            
            return matrix[len1][len2];
        }
        
        // Fonction pour vÃ©rifier si un mot recherchÃ© correspond Ã  un mot du texte (avec tolÃ©rance)
        function wordMatches(searchWord, textWords) {
            // Si le mot est trÃ¨s court (< 3 lettres), correspondance exacte uniquement
            if (searchWord.length < 3) {
                return textWords.some(word => word === searchWord);
            }
            
            // DÃ©finir la tolÃ©rance en fonction de la longueur du mot
            const maxErrors = Math.min(Math.floor(searchWord.length / 5), 2);
            
            // VÃ©rifier correspondance exacte ou si le mot du texte contient la recherche
            for (const word of textWords) {
                // Correspondance exacte
                if (word === searchWord) return true;
                
                // Le mot du texte contient le terme recherchÃ© (mais pas l'inverse pour Ã©viter les faux positifs)
                if (word.length >= searchWord.length && word.includes(searchWord)) return true;
            }
            
            // VÃ©rifier avec tolÃ©rance aux erreurs seulement pour mots de longueur trÃ¨s similaire
            for (const word of textWords) {
                if (word.length >= 4 && Math.abs(word.length - searchWord.length) <= 2) {
                    const distance = levenshteinDistance(searchWord, word);
                    if (distance <= maxErrors && distance > 0) return true;
                }
            }
            
            return false;
        }
        
        const searchInput = document.getElementById('q');
        if (searchInput) {
            searchInput.addEventListener('input', (e) => {
                const searchTerm = e.target.value.trim().toLowerCase();
                const cards = document.querySelectorAll('.card');
                
                if (searchTerm === '') {
                    cards.forEach(card => {
                        card.style.display = '';
                    });
                    return;
                }
                
                const searchWords = searchTerm.split(/\s+/).filter(word => word.length > 0);
                
                cards.forEach(card => {
                    const title = card.querySelector('.card-title')?.textContent.toLowerCase() || '';
                    const excerpt = card.querySelector('.card-excerpt')?.textContent.toLowerCase() || '';
                    const author = card.querySelectorAll('.muted')[0]?.textContent.toLowerCase() || '';
                    const topic = card.querySelector('.kicker, .editorial-kicker')?.textContent.toLowerCase() || '';
                    
                    const searchableText = `${title} ${excerpt} ${author} ${topic}`;
                    const textWords = searchableText.split(/\s+/).filter(word => word.length > 0);
                    
                    // VÃ©rifier si au moins un des mots recherchÃ©s correspond (avec tolÃ©rance)
                    const hasMatch = searchWords.some(searchWord => wordMatches(searchWord, textWords));
                    
                    if (hasMatch) {
                        card.style.display = '';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        }
    </script>
</body>
</html>